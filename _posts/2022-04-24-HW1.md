---
title: HW 0 Blog Post
layout: post
---

## Introduction

*Hello Everyone!*

```python
import pandas as pd
import sqlite3
```


```python
temps = pd.read_csv("temps_stacked.csv")
temps.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Year</th>
      <th>Month</th>
      <th>Temp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>1</td>
      <td>-0.89</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>2</td>
      <td>2.36</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>3</td>
      <td>4.72</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>4</td>
      <td>7.73</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ACW00011604</td>
      <td>1961</td>
      <td>5</td>
      <td>11.28</td>
    </tr>
  </tbody>
</table>
</div>




```python
countries = pd.read_csv('countries.csv')
#renames columns to get rid of white spaces
countries = countries.rename(columns = {"FIPS 10-4": "FIPS-10-4"})
#renames Name column to Country
countries = countries.rename(columns = {"Name": "Country"})
countries.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>FIPS-10-4</th>
      <th>ISO 3166</th>
      <th>Country</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AF</td>
      <td>AF</td>
      <td>Afghanistan</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AX</td>
      <td>-</td>
      <td>Akrotiri</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AL</td>
      <td>AL</td>
      <td>Albania</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AG</td>
      <td>DZ</td>
      <td>Algeria</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AQ</td>
      <td>AS</td>
      <td>American Samoa</td>
    </tr>
  </tbody>
</table>
</div>




```python
stations = pd.read_csv('station-metadata.csv')
stations.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>LATITUDE</th>
      <th>LONGITUDE</th>
      <th>STNELEV</th>
      <th>NAME</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ACW00011604</td>
      <td>57.7667</td>
      <td>11.8667</td>
      <td>18.0</td>
      <td>SAVE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AE000041196</td>
      <td>25.3330</td>
      <td>55.5170</td>
      <td>34.0</td>
      <td>SHARJAH_INTER_AIRP</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AEM00041184</td>
      <td>25.6170</td>
      <td>55.9330</td>
      <td>31.0</td>
      <td>RAS_AL_KHAIMAH_INTE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AEM00041194</td>
      <td>25.2550</td>
      <td>55.3640</td>
      <td>10.4</td>
      <td>DUBAI_INTL</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AEM00041216</td>
      <td>24.4300</td>
      <td>54.4700</td>
      <td>3.0</td>
      <td>ABU_DHABI_BATEEN_AIR</td>
    </tr>
  </tbody>
</table>
</div>




```python
conn = sqlite3.connect("temps.db")

#creating database with three tables
temps.to_sql("temperatures", conn, if_exists = "replace", index=False)
countries.to_sql("countries", conn, if_exists = "replace", index=False)
stations.to_sql("stations", conn, if_exists = "replace", index=False)

#closing connection
conn.close()
```

    /Users/kellysong/opt/anaconda3/envs/PIC16B/lib/python3.7/site-packages/pandas/core/generic.py:2882: UserWarning: The spaces in these column names will not be changed. In pandas versions < 0.14, spaces were converted to underscores.
      method=method,



```python
def query_climate_database(country, year_begin, year_end, month):
    
   '''Returns a data frame containing the name, coordinates, country, year, month, and temperature
   for a specified country, year range, and month
   
   @param country: string; name of a country for which data should be returned
   @param year_begin: integer; earliest year for which data should be returned
   @param: year_end: integer; latest year for which data should be returned
   @param: month: integer; month for which data should be returned
   @return: dataframe containing data that matches specifications
   '''

    conn = sqlite3.connect("temps.db")

    #selects name, latitude, and longitude from stations, country from countries, and 
    #year, month, and temp from temperatures
    #joins stations, temperatures, and countries dataframes 
    cmd = "SELECT S.name, S.latitude, S.longitude, C.country, T.year, T.month, T.temp \
            FROM temperatures T \
            LEFT JOIN stations S ON T.id = S.id \
            LEFT JOIN countries C ON SUBSTRING(T.id,1,2) = C.'FIPS-10-4' \
            WHERE (year >=" + str(year_begin) + ") AND (year <=" + str(year_end) + ") AND (month=" + str(month) + ") AND (country= \"" + str(country) + "\")"

    df = pd.read_sql(cmd, conn)

    #closing connection
    conn.close()

    #returns dataframe with specifications in place
    return df
```


```python
query_climate_database(country="India",
                       year_begin = 1980, 
                       year_end = 2020,
                       month = 1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NAME</th>
      <th>LATITUDE</th>
      <th>LONGITUDE</th>
      <th>Country</th>
      <th>Year</th>
      <th>Month</th>
      <th>Temp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1980</td>
      <td>1</td>
      <td>23.48</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1981</td>
      <td>1</td>
      <td>24.57</td>
    </tr>
    <tr>
      <th>2</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1982</td>
      <td>1</td>
      <td>24.19</td>
    </tr>
    <tr>
      <th>3</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1983</td>
      <td>1</td>
      <td>23.51</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PBO_ANANTAPUR</td>
      <td>14.583</td>
      <td>77.633</td>
      <td>India</td>
      <td>1984</td>
      <td>1</td>
      <td>24.81</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3147</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1983</td>
      <td>1</td>
      <td>5.10</td>
    </tr>
    <tr>
      <th>3148</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1986</td>
      <td>1</td>
      <td>6.90</td>
    </tr>
    <tr>
      <th>3149</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1994</td>
      <td>1</td>
      <td>8.10</td>
    </tr>
    <tr>
      <th>3150</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1995</td>
      <td>1</td>
      <td>5.60</td>
    </tr>
    <tr>
      <th>3151</th>
      <td>DARJEELING</td>
      <td>27.050</td>
      <td>88.270</td>
      <td>India</td>
      <td>1997</td>
      <td>1</td>
      <td>5.70</td>
    </tr>
  </tbody>
</table>
<p>3152 rows Ã— 7 columns</p>
</div>




```python
query_climate_database(country="China",
                       year_begin = 2000, 
                       year_end = 2010,
                       month = 2)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>NAME</th>
      <th>LATITUDE</th>
      <th>LONGITUDE</th>
      <th>Country</th>
      <th>Year</th>
      <th>Month</th>
      <th>Temp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>KING'S_PARK</td>
      <td>22.333</td>
      <td>114.167</td>
      <td>China</td>
      <td>2000</td>
      <td>2</td>
      <td>15.22</td>
    </tr>
    <tr>
      <th>1</th>
      <td>KING'S_PARK</td>
      <td>22.333</td>
      <td>114.167</td>
      <td>China</td>
      <td>2001</td>
      <td>2</td>
      <td>18.37</td>
    </tr>
    <tr>
      <th>2</th>
      <td>KING'S_PARK</td>
      <td>22.333</td>
      <td>114.167</td>
      <td>China</td>
      <td>2002</td>
      <td>2</td>
      <td>18.92</td>
    </tr>
    <tr>
      <th>3</th>
      <td>MOHE</td>
      <td>52.133</td>
      <td>122.517</td>
      <td>China</td>
      <td>2000</td>
      <td>2</td>
      <td>-22.75</td>
    </tr>
    <tr>
      <th>4</th>
      <td>MOHE</td>
      <td>52.133</td>
      <td>122.517</td>
      <td>China</td>
      <td>2001</td>
      <td>2</td>
      <td>-26.50</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>3974</th>
      <td>YUANLING</td>
      <td>28.470</td>
      <td>110.400</td>
      <td>China</td>
      <td>2006</td>
      <td>2</td>
      <td>5.93</td>
    </tr>
    <tr>
      <th>3975</th>
      <td>YUANLING</td>
      <td>28.470</td>
      <td>110.400</td>
      <td>China</td>
      <td>2007</td>
      <td>2</td>
      <td>10.71</td>
    </tr>
    <tr>
      <th>3976</th>
      <td>YUANLING</td>
      <td>28.470</td>
      <td>110.400</td>
      <td>China</td>
      <td>2008</td>
      <td>2</td>
      <td>5.63</td>
    </tr>
    <tr>
      <th>3977</th>
      <td>YUANLING</td>
      <td>28.470</td>
      <td>110.400</td>
      <td>China</td>
      <td>2009</td>
      <td>2</td>
      <td>9.99</td>
    </tr>
    <tr>
      <th>3978</th>
      <td>YUANLING</td>
      <td>28.470</td>
      <td>110.400</td>
      <td>China</td>
      <td>2010</td>
      <td>2</td>
      <td>7.56</td>
    </tr>
  </tbody>
</table>
<p>3979 rows Ã— 7 columns</p>
</div>




```python
from sklearn.linear_model import LinearRegression

def coef(data_group):
    '''Fits variables "Year" and "Temp" from data_group to a linear regression model 
    
    @data_group: dataframe
    @return: integer value; slope of the linear regression model
    '''
    X = data_group[["Year"]]
    y = data_group["Temp"]
    LR = LinearRegression()
    #fit to model
    LR.fit(X, y)
    slope = LR.coef_[0]
    return slope
```


```python
import pandas as pd
from plotly import express as px

def temperature_coefficient_plot(country, year_begin, year_end, month, min_obs, **kwargs):
    '''Returns a map with cities in specified country plotted, color based on average yearly
    temperature change
    
    @param country: string; name of a country for which data should be returned
    @param year_begin: integer; earliest year for which data should be returned
    @param: year_end: integer; latest year for which data should be returned
    @param: month: integer; month for which data should be returned
    @param: min_obs: integer: minimum required number of years of data for any given station
    @param **kwargs: additional keyword arguments passed to px.scatter_mapbox()
    @return: map with specified data plotted 
    '''
    
    #throws value error if number of years is less than the minimum number of observations
    if (year_end - year_begin) < min_obs:
        raise ValueError("The amount of years does not satisfy number of minimum observations")
    
    #calls on function query_climate_database to get dataframe with specifications
    df = query_climate_database(country=country,
                       year_begin = year_begin, 
                       year_end = year_end,
                       month = month)
    
    #group by name, latitude, and longitude; applies coef function 
    coefs = df.groupby(["NAME", "LATITUDE", "LONGITUDE"]).apply(coef)

    coefs = coefs.reset_index()
    #rename column with slopes 
    coefs = coefs.rename(columns={0:"Estimated Yearly Increase (Â°C)"})
    #rounds values to nearest thousandths place
    coefs["Estimated Yearly Increase (Â°C)"] = round(coefs["Estimated Yearly Increase (Â°C)"], 3)
    
    fig = px.scatter_mapbox(coefs,  
                        #latitude of city
                        lat = "LATITUDE",
                        #lonitude of city
                        lon = "LONGITUDE", 
                        #colors map based on increase
                        color="Estimated Yearly Increase (Â°C)",
                        #message displayed when hovered over
                        hover_name = "NAME", 
                        #centers colorbar at 0
                        color_continuous_midpoint=0,
                        #aspect ratio
                        height = 250, 
                        #additional arguments specified by user
                        **kwargs) 

    fig.update_layout(margin={"r":0,"t":0,"l":0,"b":0}) 
    fig.show()
```


```python
color_map = px.colors.diverging.RdGy_r 

fig = temperature_coefficient_plot("India", 1980, 2020, 1, 
                                   min_obs = 10,
                                   zoom = 2,
                                   mapbox_style="carto-positron",
                                   color_continuous_scale=color_map)
```


<div>                            <div id="305c0c6e-ba72-41f9-9fbe-98603fffc754" class="plotly-graph-div" style="height:250px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("305c0c6e-ba72-41f9-9fbe-98603fffc754")) {                    Plotly.newPlot(                        "305c0c6e-ba72-41f9-9fbe-98603fffc754",                        [{"hovertemplate":"<b>%{hovertext}</b><br><br>LATITUDE=%{lat}<br>LONGITUDE=%{lon}<br>Estimated Yearly Increase (\u00b0C)=%{marker.color}<extra></extra>","hovertext":["AGARTALA","AGRA","AHMADABAD","AKOLA","AKOLA","ALLAHABAD","ALLAHABAD_BAMHRAULI","AMBALA","AMRITSAR","AURANGABAD_CHIKALTH","BALASORE","BANGALORE","BANGALORE_HINDUSTAN","BAREILLY","BEGUMPETOBSY","BELGAUM_SAMBRA","BHOPAL_BAIRAGARH","BHUBANESWAR","BHUJ_RUDRAMATA","BIKANER","BOMBAY_COLABA","BOMBAY_SANTACRUZ","CALCUTTA_ALIPORE","CALCUTTA_DUM_DUM","CHERRAPUNJI","CHERRA_POONJEE","CHITRADURGA","COIMBATORE_PEELAMED","CUDDALORE","CUTTACK","DALTONGANJ","DARBHANGA","DARJEELING","DEHRADUN","DIBRUGARH_MOHANBAR","DUMKA","DWARKA","GADAG","GANGANAGAR","GAUHATI","GAYA","GOA_PANJIM","GORAKHPUR","GUNA","GWALIOR","HISSAR","HONAVAR","IMPHAL","INDORE","JABALPUR","JAGDALPUR","JAIPUR_SANGANER","JAISALMER","JHARSUGUDA","JODHPUR","KAKINADA","KARAIKAL","KODAIKANAL","KOTA_AERODROME","KOZHIKODE","KURNOOL","LUCKNOW_AMAUSI","LUDHIANA","MACHILIPATNAM","MADRAS_MINAMBAKKAM","MANGALORE","MANGALORE_BAJPE","MINICOY","MINICOYOBSY","MO_AMINI","MO_RANCHI","MUKTESWAR_KUMAON","NAGPUR_SONEGAON","NELLORE","NEW_DELHI_PALAM","NEW_DELHI_SAFDARJUN","NORTH_LAKHIMPUR","PAMBAN","PATIALA","PATNA","PBO_ANANTAPUR","PENDRA_ROAD","POONA","PORT_BLAIR","RAIPUR","RAJKOT","RAMGUNDAM","RATNAGIRI","SAGAR","SANDHEADS","SATNA","SHILONG","SHIMLA","SHOLAPUR","SILCHAR","SRINAGAR","SURAT","TEZPUR","THIRUVANANTHAPURAM","THIRUVANANTHAPURAM","TIRUCHCHIRAPALLI","TRIVANDRUM","UDAIPUR_DABOK","VARANASI_BABATPUR","VERAVAL","VISHAKHAPATNAM"],"lat":[23.883,27.1667,23.067,20.7,20.7,25.441,25.5,30.383,31.71,19.85,21.517,12.967,12.95,28.367,17.45,15.85,23.283,20.25,23.25,28.0,18.9,19.117,22.533,22.65,25.25,25.25,14.233,11.033,11.767,20.467,24.05,26.1667,27.05,30.317,27.483,24.267,22.3667,15.417,29.917,26.1,24.75,15.483,26.75,24.65,26.233,29.167,14.283,24.667,22.717,23.2,19.083,26.817,26.9,21.917,26.3,16.95,10.917,10.2333,25.15,11.25,15.8,26.75,30.9333,16.2,13.0,12.867,12.917,8.3,8.3,11.117,23.317,29.4667,21.1,14.45,28.567,28.583,27.233,9.267,30.333,25.6,14.583,22.767,18.533,11.667,21.217,22.3,18.767,16.983,23.85,20.85,24.567,25.6,31.1,17.667,24.82,34.083,21.2,26.617,8.467,8.483,10.767,8.5,24.617,25.45,20.9,17.717],"legendgroup":"","lon":[91.25,78.0333,72.633,77.033,77.067,81.735,81.9,76.767,74.797,75.4,86.933,77.583,77.633,79.4,78.47,74.617,77.35,85.833,69.667,73.3,72.8167,72.85,88.333,88.45,91.7333,91.73,76.433,77.05,79.767,85.933,84.067,85.9,88.27,78.033,95.017,87.25,69.0833,75.633,73.917,91.583,84.95,73.817,83.367,77.317,78.25,75.733,74.45,93.9,75.8,79.95,82.033,75.8,70.917,84.083,73.017,82.233,79.833,77.4667,75.85,75.783,78.067,80.883,75.8667,81.15,80.183,74.85,74.883,73.15,73.0,72.733,85.317,79.65,79.05,79.983,77.117,77.2,94.117,79.3,76.467,85.1,77.633,81.9,73.85,92.717,81.667,70.783,79.433,73.333,78.75,88.25,80.833,91.89,77.167,75.9,92.83,74.833,72.833,92.783,76.95,76.95,78.717,77.0,73.883,82.867,70.367,83.233],"marker":{"color":[-0.006,-0.095,0.007,-0.002,-0.006,-0.029,-0.015,0.081,-0.007,0.012,-0.009,0.036,0.05,-0.017,0.011,-0.004,-0.022,-0.016,0.07,0.017,0.011,0.035,-0.01,-0.016,0.047,-0.022,0.016,0.034,0.021,-0.01,-0.005,-0.072,-0.04,0.044,0.052,-0.082,0.017,0.009,-0.008,0.014,-0.018,0.022,0.004,-0.009,-0.018,-0.003,-0.049,0.063,0.003,-0.025,-0.0,0.007,0.003,-0.018,0.01,0.026,0.021,0.069,-0.019,0.033,0.026,-0.037,0.132,0.012,0.024,0.0,0.023,0.025,0.014,-0.006,0.005,0.015,-0.025,0.023,0.006,-0.002,0.095,0.025,-0.012,-0.022,0.026,-0.01,-0.0,0.031,0.001,0.016,-0.009,0.003,0.002,-0.052,-0.023,0.013,0.004,0.004,0.016,0.049,0.023,0.039,0.009,0.021,0.015,0.023,0.072,-0.013,0.025,-0.034],"coloraxis":"coloraxis"},"mode":"markers","name":"","showlegend":false,"subplot":"mapbox","type":"scattermapbox"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"mapbox":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{"lat":21.13405094339622,"lon":79.72848113207546},"zoom":2,"style":"carto-positron"},"coloraxis":{"colorbar":{"title":{"text":"Estimated Yearly Increase (\u00b0C)"}},"colorscale":[[0.0,"rgb(26,26,26)"],[0.1,"rgb(77,77,77)"],[0.2,"rgb(135,135,135)"],[0.3,"rgb(186,186,186)"],[0.4,"rgb(224,224,224)"],[0.5,"rgb(255,255,255)"],[0.6,"rgb(253,219,199)"],[0.7,"rgb(244,165,130)"],[0.8,"rgb(214,96,77)"],[0.9,"rgb(178,24,43)"],[1.0,"rgb(103,0,31)"]],"cmid":0},"legend":{"tracegroupgap":0},"margin":{"t":0,"r":0,"l":0,"b":0},"height":250},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('305c0c6e-ba72-41f9-9fbe-98603fffc754');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>



```python
fig = temperature_coefficient_plot("China", 2000, 2010, 2, 
                                   min_obs = 10,
                                   zoom = 2,
                                   mapbox_style="carto-positron",
                                   color_continuous_scale="inferno")
```


<div>                            <div id="4a456f15-7366-4e26-b783-51ce78cd6c04" class="plotly-graph-div" style="height:250px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4a456f15-7366-4e26-b783-51ce78cd6c04")) {                    Plotly.newPlot(                        "4a456f15-7366-4e26-b783-51ce78cd6c04",                        [{"hovertemplate":"<b>%{hovertext}</b><br><br>LATITUDE=%{lat}<br>LONGITUDE=%{lon}<br>Estimated Yearly Increase (\u00b0C)=%{marker.color}<extra></extra>","hovertext":["ABAG_QI","AIHUI","AKQI","ALAR","ALTAY","ANDA","ANKANG","ANQING","ANYANG","ARXAN","BACHU","BAILING_MIAO","BAINGOIN","BAISE","BALGUNTAY","BAODING","BAOJI","BAOQING","BAOSHAN","BARKAM","BATANG","BAYANBULAK","BAYAN_MOD","BAYTIK_SHAN","BEIDAO","BEIHAI","BEIJING","BEIJING_PEKING","BENGBU","BENXI","BIJIE","BOXIAN","BUGT","BUGT","CHANGCHUN","CHANGDE","CHANGLING","CHANGSHA","CHANGSHA","CHANGTING","CHANG_DAO","CHAOYANG","CHENGDE","CHENGDU","CHENGSHANTOU","CHENZHOU","CHIFENG","CHIU_CHUAN","CHONGQING","CHUXIONG","DACHEN_DAO","DALIAN","DANDONG","DANXIAN","DAOCHENG","DARLAG","DATONG","DAWU","DA_QAIDAM","DA_XIAN","DEGE","DELINGHA","DENGQEN","DEQEN","DINGHAI","DINGTAO","DONGFANG","DONGSHENG","DONGTAI","DULAN","DUNHUA","DUNHUANG","DUOLUN","DUSHAN","EJIN_QI","EMEI_SHAN","ENSHI","ERENHOT","FANGXIAN","FENGJIE","FENGNING","FOGANG","FORTALEZA_DO_MONTE","FUDING","FUJIN","FUYANG","FUYUN","FUZHOU","GANGCA","GANYU","GANZHOU","GAOYAO","GARZE","GENGMA","GOLMUD","GUANGCHANG","GUANGHUA","GUANGNAN","GUANGZHOU","GUILIN","GUINAN","GUIPING","GUIYANG","GUSHI","HAIKOU","HAILAR","HAILS","HAILUN","HAIYANG","HALIUT","HAMI","HANGZHOU","HANZHONG","HARBIN","HECHI","HEFEI","HENAN","HEQU","HEYUAN","HEZUO","HOBOKSAR","HOHHOT","HOTAN","HUADE","HUADIAN","HUAILAI","HUAJIALING","HUANG_SHAN","HUA_SHAN","HUILI","HUIMIN","HUIZE","HULIN","HUMA","HUOSHAN","JARTAI","JARUD_QI","JIAN","JIAN","JIANGCHENG","JIANGLING","JIEXIU","JINAN","JINGDEZHEN","JINGHE","JINGHE","JINGHONG","JINING","JINZHOU","JIULONG","JIUQUAN","JIUXIAN_SHAN","JIXI","JURH","KABA_HE","KANGDING","KARAMAY","KASHI","KESHAN","KING'S_PARK","KORLA","KUANDIAN","KUNMING","KUNMING_YUNNANFU_WAS_999022","KUQA","LANCANG","LANGZHONG","LANZHOU","LENGHU","LETING","LHASA","LHUNZE","LIANGPING","LIANPING","LIAN_XIAN","LIJING","LINCANG","LINDONG","LINGLING","LINHE","LINJIANG","LINXI","LISHI","LISHUI","LITANG","LIUZHOU","LIYANG","LONGKOU","LONGZHOU","LUODIAN","LUSHI","LUSI","LUXI","LUZHOU","LU_SHAN","MACHENG","MADOI","MANDAL","MANGNAI","MAZONG_SHAN","MEI_XIAN","MENGJIN","MENGLA","MENGSHAN","MENGZI","MIANYANG","MINQIN","MOHE","MUDANJIANG","NAGQU","NANCHANG","NANCHENG","NANCHONG","NANJING","NANNING","NANPING","NANYANG","NANYUE","NAPO","NARAN_BULAG","NEIJIANG","NENJIANG","NYINGCHI","OTOG_QI","PAGRI","PINGLIANG","PINGTAN","PINGWU","PISHAN","POTOU","PUCHENG","QAMDO","QIAN_GORLOS","QINGDAO","QINGJIANG","QINGLONG","QINGYUAN","QINZHOU","QIONGHAI","QIQIHAR","QITAI","QUMARLEB","QU_XIAN","RIZHAO","RONGJIANG","RUIAN","RUILI","RUO'ERGAI","RUOQIANG","SANGZHI","SANSUI","SANYA","SERTAR","SHACHE","SHANGCHUAN_DA","SHANGHAI","SHANGHAI_HONGQIAO","SHANGZHI","SHANTOU","SHANWEI","SHAOGUAN","SHAOWU","SHAOYANG","SHENGSI","SHENGXIAN","SHENYANG","SHENZHEN","SHEYANG","SHIJIAZHUANG","SHIPU","SHIQUANHE","SHISANJIANFANG","SHUANGLIU","SIMAO","SINAN","SIPING","SOG_XIAN","SONGPAN","SUIFENHE","SUNWU","TACHENG","TAILAI","TAIPA_GRANDE","TAIYUAN","TAI_SHAN","TANGSHAN","TAZHONG","TENGCHONG","TIANJIN","TIANSHUI","TIKANLIK","TINGRI","TONGDAO","TONGHE","TONGLIAO","TULIHE","TUOTUOHE","TURPAN","ULIASTAI","URUMGIXINJIANG","WANYUAN","WEICHANG","WEIFANG","WEINING","WENJIANG","WENZHOU","WUDAOLIANG","WUDU","WUGANG","WUHAN","WUHUXIAN","WUSHAOLING","WUTAI_SHAN","WUZHOU","WU_LU_MU_QI","XAINZA","XIAMEN","XIAN","XIAO'ERGOU","XICHANG","XIFENGZHEN","XIGAZE","XIHUA","XILIN_HOT","XINGREN","XINGTAI","XINING","XINXIAN","XINYANG","XINYI","XIN_BARAG_YOU","XISHA_DAO","XIUSHUI","XI_UJIMQIN_QI","XUNWU","XUZHOU","YA'AN","YANCHI","YANGCHENG","YANGJIANG","YANJI","YANZHOU","YAN_AN","YIBIN","YICHANG","YICHUN","YICHUN","YINCHUAN","YINGKOU","YINING","YIWU","YIYUAN","YONGAN","YOUYANG","YUANJIANG","YUANLING","YUANMOU","YUANPING","YUEYANG","YULIN","YUMENZHEN","YUNCHENG","YUSHE","YUSHU","YU_XIAN","YU_ZHONG","ZADOI","ZAOYANG","ZHANGJIAKOU","ZHANGWU","ZHANGYE","ZHANJIANG","ZHAOTONG","ZHENGZHOU","ZHIJIANG","ZHONGNING","ZHONGXIANG","ZHUMADIAN","ZUNYI"],"lat":[44.017,50.25,40.93,40.5,47.733,46.383,32.72,30.533,36.05,47.167,39.8,41.7,31.367,23.9,42.67,38.85,34.35,46.32,25.13,31.9,30.0,43.03,40.75,45.37,34.567,21.48,39.933,39.8,32.95,41.317,27.3,33.883,42.33,48.767,43.9,29.05,44.25,28.2,28.233,25.85,37.933,41.55,40.967,30.667,37.4,25.8,42.3,39.8,29.583,25.017,28.45,38.9,40.05,19.52,29.05,33.75,40.1,30.98,37.85,31.2,31.73,37.37,31.417,28.45,30.033,35.083,19.1,39.83,32.85,36.3,43.37,40.15,42.183,25.83,41.95,29.52,30.283,43.65,32.03,31.05,41.22,23.87,22.1833,27.33,47.233,32.93,46.983,26.083,37.333,34.85,25.867,23.05,31.617,23.55,36.417,26.85,32.383,24.07,23.217,25.333,35.583,23.4,26.583,32.17,20.0,49.25,41.45,47.433,36.77,41.567,42.817,30.233,33.067,45.75,24.7,31.867,34.73,39.38,23.8,35.0,46.783,40.817,37.133,41.9,42.98,40.417,35.38,30.13,34.48,26.65,37.5,26.42,45.77,51.717,31.4,39.783,44.567,27.117,41.15,22.62,30.33,37.033,36.6,29.3,34.433,44.617,22.02,41.03,41.133,29.0,39.767,25.72,45.283,42.4,48.05,30.05,45.6,39.467,48.05,22.333,41.75,40.72,25.017,25.1,41.717,22.567,31.58,36.05,38.833,39.433,29.667,28.42,30.68,24.37,24.78,26.833,23.95,43.983,26.233,40.77,41.717,43.6,37.5,28.45,30.0,24.35,31.43,37.62,22.367,25.43,34.05,32.07,24.53,28.88,29.58,31.18,34.917,42.53,38.25,41.8,24.3,34.817,21.5,24.2,23.383,31.47,38.633,52.133,44.567,31.483,28.6,27.583,30.8,31.933,22.633,26.633,33.03,27.3,23.3,44.62,29.58,49.167,29.57,39.1,27.73,35.55,25.52,32.42,37.62,38.083,27.92,31.15,45.083,36.067,33.6,40.4,42.1,21.95,19.233,47.383,44.017,34.133,28.967,35.38,25.97,27.783,24.02,33.583,39.033,29.4,26.97,18.217,32.28,38.433,21.73,31.4,31.167,45.217,23.4,22.783,24.667,27.33,27.23,30.73,29.6,41.733,22.55,33.77,38.033,29.2,32.5,43.217,30.5667,22.767,27.95,43.183,31.883,32.65,44.383,49.433,46.73,46.4,22.15,37.783,36.25,39.67,39.0,25.117,39.1,34.583,40.633,28.63,26.17,45.967,43.6,50.45,34.217,42.933,45.517,43.9,32.067,41.93,36.767,26.87,30.75,28.017,35.22,33.4,26.73,30.6,31.15,37.2,39.03,23.483,43.8,30.95,24.483,34.3,49.2,27.9,35.73,29.25,33.78,43.95,25.433,37.07,36.617,36.03,32.133,22.35,48.67,16.833,29.03,44.583,24.95,34.283,29.98,37.8,35.48,21.867,42.867,35.567,36.6,28.8,30.7,27.8,47.72,38.467,40.667,43.95,43.27,36.18,25.967,28.833,23.6,28.47,25.73,38.75,29.38,38.233,40.267,35.05,37.07,33.0,39.83,35.867,32.9,32.15,40.78,42.417,38.93,21.22,27.33,34.717,27.45,37.48,31.17,33.0,27.7],"legendgroup":"","lon":[114.95,127.45,78.45,81.05,88.083,125.317,109.03,117.05,114.4,119.933,78.567,110.433,90.017,106.6,86.33,115.57,107.13,132.18,99.22,102.233,99.1,84.15,104.5,90.53,105.867,109.1,116.283,116.5,117.367,123.783,105.233,115.767,120.7,121.917,125.217,111.683,123.97,113.083,112.867,116.37,120.717,120.45,117.917,104.017,122.683,113.03,118.833,98.6,106.467,101.517,121.883,121.633,124.333,109.58,100.3,99.65,113.333,101.12,95.367,107.5,98.57,97.37,95.6,98.883,122.117,115.517,108.617,109.98,120.283,98.1,128.2,94.683,116.467,107.55,101.067,103.33,109.467,112.0,110.77,109.5,116.63,113.53,113.5333,120.2,131.983,115.83,89.517,119.283,100.133,119.133,115.0,112.47,100.0,99.4,94.9,116.33,111.667,105.07,113.483,110.3,100.75,110.083,106.733,115.67,110.25,119.7,106.383,126.967,121.17,108.517,93.517,120.167,107.033,126.767,108.05,117.233,101.6,111.15,114.733,102.9,85.717,111.683,79.933,114.0,126.75,115.5,105.0,118.15,110.08,102.25,117.533,103.28,132.97,126.65,116.333,105.75,120.9,114.967,126.217,101.82,112.18,111.917,117.05,117.2,108.967,82.9,100.8,113.07,121.117,101.5,98.483,118.1,130.949,112.9,86.35,101.97,84.85,75.983,125.883,114.167,86.133,124.78,102.683,102.9,82.95,99.933,105.97,103.883,93.383,118.9,91.133,92.47,107.8,114.48,112.38,100.467,100.217,119.4,111.617,107.4,126.917,118.067,111.1,119.92,100.267,109.4,119.48,120.32,106.75,106.77,111.033,121.6,103.77,105.43,115.98,114.97,98.217,110.13,90.85,97.033,116.12,112.433,101.58,110.52,103.383,104.68,103.083,122.517,129.6,92.067,115.917,116.65,106.083,118.9,108.217,118.0,112.58,112.7,105.95,114.15,105.05,125.233,94.47,107.983,89.08,106.667,119.78,104.52,78.28,116.55,118.53,97.167,124.867,120.333,119.03,118.95,124.95,108.617,110.467,123.917,89.567,95.783,118.867,119.53,108.53,120.65,97.83,102.967,88.167,110.17,108.67,109.583,100.33,77.267,112.77,121.467,121.433,127.967,116.683,115.367,113.6,117.43,111.47,122.45,120.82,123.517,114.1,120.25,114.417,121.95,80.083,91.733,103.9333,100.983,108.25,124.333,93.783,103.567,131.15,127.35,83.0,123.42,113.55,112.55,117.1,118.15,83.667,98.483,117.167,105.75,87.7,87.08,109.78,128.733,122.267,121.7,92.433,89.2,116.967,87.5,108.033,117.75,119.183,104.28,103.867,120.667,93.08,104.917,110.63,114.05,118.583,102.867,113.53,111.3,87.65,88.633,118.083,108.933,123.72,102.267,107.63,88.883,114.52,116.117,105.183,114.5,101.767,115.58,114.05,110.93,116.82,112.333,114.58,117.6,115.65,117.15,103.0,107.383,112.4,111.967,129.5,116.85,109.5,104.6,111.3,114.38,128.9,106.2,122.2,81.333,94.7,118.15,117.35,108.767,101.98,110.4,101.87,112.7,113.08,109.7,97.033,111.05,112.98,96.967,114.57,104.15,95.3,112.67,114.88,122.533,100.43,110.4,103.75,113.65,109.683,105.67,112.57,114.017,106.883],"marker":{"color":[0.187,-0.142,-0.021,-0.034,-0.282,0.037,0.002,0.032,0.043,0.064,-0.111,0.031,0.136,0.32,0.116,0.025,0.633,-0.089,0.067,0.071,0.035,0.557,-0.062,-0.122,0.19,0.24,0.011,0.049,0.051,0.106,0.217,0.136,-0.002,-0.155,0.079,0.092,0.116,0.104,0.079,0.222,0.065,-0.042,-0.295,0.006,-0.016,0.155,0.055,-0.085,0.03,0.206,0.093,0.013,0.143,0.171,0.053,0.101,0.038,0.055,0.164,0.022,-0.022,0.229,0.102,0.069,0.048,0.104,0.116,0.018,0.073,0.236,0.033,-0.013,0.149,0.214,-0.158,0.272,0.062,0.221,-0.001,0.033,-0.02,0.127,0.14,-0.065,0.016,0.011,-0.011,0.127,0.211,0.058,0.237,0.215,0.059,0.009,0.19,0.153,-0.037,0.303,0.273,0.269,0.192,0.338,0.235,0.033,0.207,0.137,-0.091,-0.063,0.033,-0.028,0.049,0.094,-0.002,0.067,0.1,0.014,0.072,0.07,0.203,0.068,-0.275,0.069,-0.023,0.027,0.175,-0.039,0.109,0.148,0.124,0.102,0.062,0.245,-0.057,-0.063,0.08,-0.07,-0.113,0.227,0.16,0.024,-0.025,-0.022,0.096,0.128,-0.213,-0.148,-0.028,0.007,0.043,0.081,-0.06,0.218,-0.056,0.022,-0.492,0.219,-0.085,-0.13,-0.083,1.85,0.001,0.099,0.055,0.145,-0.028,-0.029,0.023,-0.137,0.073,-0.064,-0.056,0.025,0.06,0.253,0.287,0.065,0.027,0.237,0.209,-0.038,0.126,-0.071,0.067,0.173,0.005,0.255,0.041,0.066,0.063,0.223,-0.092,0.115,0.072,1.52,0.203,0.041,0.151,-0.132,0.09,-0.128,0.172,0.014,0.019,0.251,0.175,0.045,-0.045,-0.194,0.06,0.055,0.158,0.193,-0.012,0.011,0.345,0.157,0.029,0.179,0.281,0.053,1.91,-0.019,0.062,-0.02,0.13,0.046,0.111,-0.084,-0.063,-0.032,0.174,0.131,0.144,-0.046,0.0,0.094,0.104,0.339,0.095,-0.171,-0.095,0.196,0.091,0.071,0.177,0.007,0.042,0.052,0.093,0.03,0.16,-0.038,0.125,-0.147,0.16,0.11,0.09,0.033,0.039,0.067,0.312,0.156,0.152,0.073,0.104,0.006,0.179,0.099,0.018,0.062,0.313,0.035,1.3,0.039,0.096,0.042,0.266,0.085,0.042,-0.126,-0.408,-0.083,-0.37,-0.055,0.043,0.008,0.159,0.026,-0.041,1.167,0.053,0.053,0.173,-0.021,0.004,-0.022,0.076,0.05,0.103,-0.216,-0.025,-0.03,0.094,0.314,0.208,2.76,0.194,0.095,0.152,0.036,0.05,0.119,-0.004,0.256,-0.138,0.074,0.072,0.038,-0.077,0.129,-0.01,-0.13,0.065,0.153,0.394,-0.036,0.092,0.093,0.01,0.259,-0.074,0.071,0.132,0.095,0.211,0.071,0.034,0.047,-0.022,0.158,0.084,0.141,0.04,0.073,-0.013,0.148,-0.082,-0.084,0.038,0.122,2.07,0.076,0.238,0.11,0.102,0.079,0.086,-0.042,0.056,0.027,-0.025,-0.055,0.03,0.091,0.108,0.07,0.115,0.044,0.007,0.128,-0.044,0.227,0.254,0.052,0.139,-0.002,-0.056,-0.08,0.148],"coloraxis":"coloraxis"},"mode":"markers","name":"","showlegend":false,"subplot":"mapbox","type":"scattermapbox"}],                        {"template":{"data":{"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"#E5ECF6","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","gridwidth":2,"linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"bgcolor":"#E5ECF6","caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","zerolinewidth":2}}},"mapbox":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{"lat":34.19941160949869,"lon":109.36331292875992},"zoom":2,"style":"carto-positron"},"coloraxis":{"colorbar":{"title":{"text":"Estimated Yearly Increase (\u00b0C)"}},"colorscale":[[0.0,"#000004"],[0.1111111111111111,"#1b0c41"],[0.2222222222222222,"#4a0c6b"],[0.3333333333333333,"#781c6d"],[0.4444444444444444,"#a52c60"],[0.5555555555555556,"#cf4446"],[0.6666666666666666,"#ed6925"],[0.7777777777777778,"#fb9b06"],[0.8888888888888888,"#f7d13d"],[1.0,"#fcffa4"]],"cmid":0},"legend":{"tracegroupgap":0},"margin":{"t":0,"r":0,"l":0,"b":0},"height":250},                        {"responsive": true}                    ).then(function(){

var gd = document.getElementById('4a456f15-7366-4e26-b783-51ce78cd6c04');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>



```python

```
